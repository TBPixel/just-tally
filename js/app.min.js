"use strict";var data=[],Tally=React.createClass({displayName:"Tally",_handleClick:function(e){var a=this.props.count+e;this.props._handleChange(this.props.id,a)},render:function(){return React.createElement("div",{className:"tally-node"},React.createElement("div",{className:"meta-data"},React.createElement("span",{className:"count"},this.props.count),React.createElement("span",{className:"name"},this.props.name)),React.createElement("div",{className:"minus",onClick:this._handleClick.bind(null,this.props.minus)},React.createElement("span",{className:"fa fa-minus"})),React.createElement("div",{className:"plus",onClick:this._handleClick.bind(null,this.props.plus)},React.createElement("span",{className:"fa fa-plus"})))}}),AddTally=React.createClass({displayName:"AddTally",_handleSubmit:function(e){function a(e,a){return void 0!==e&&""!==e?e:a}e.preventDefault();var t=e.target,n=t.querySelectorAll(".name, .initialCount, .minus, .plus"),l={};l.id=Date.now(),l.name=a(n[0].value,"Tally"),l.initialCount=Number(a(n[1].value,0)),l.count=l.initialCount,l.minus=Number(a(n[2].value,-1)),l.plus=Number(a(n[3].value,1)),this.props._handleNewTally(l)},render:function(){var e=function(e){return e.props.showCreateTallyMenu?"create-tally show":"create-tally"};return React.createElement("div",{className:e(this)},React.createElement("form",{className:"new-tally",onSubmit:this._handleSubmit},React.createElement("input",{type:"text",className:"name",placeholder:"Tally Name"}),React.createElement("input",{type:"number",className:"initialCount",placeholder:"Initial Count"}),React.createElement("input",{type:"number",className:"minus",placeholder:"Decrement"}),React.createElement("input",{type:"number",className:"plus",placeholder:"Increment"}),React.createElement("input",{type:"submit",value:"Create Tally"})))}}),ResetPrompt=React.createClass({displayName:"ResetPrompt",_handleClick:function(e){e&&this.props._handleMasterReset(e),this.props._toggleConfirmation()},render:function(){var e=function(e){return e.props.showConfirmation?"reset-prompt show":"reset-prompt"};return React.createElement("div",{className:e(this)},React.createElement("div",{className:"cancel",onClick:this._handleClick.bind(null,!1)},React.createElement("span",{className:"fa fa-times"})),React.createElement("div",{className:"confirm",onClick:this._handleClick.bind(null,!0)},React.createElement("span",{className:"fa fa-check"})))}}),TallyMenu=React.createClass({displayName:"TallyMenu",getInitialState:function(){return{showConfirmation:!1,showCreateTallyMenu:!1}},_toggleConfirmation:function(){this.setState({showConfirmation:!this.state.showConfirmation})},_toggleTallyMenu:function(){this.setState({showCreateTallyMenu:!this.state.showCreateTallyMenu})},render:function(){var e=function(e){return e.state.showCreateTallyMenu?"fa fa-chevron-down":"fa fa-plus"};return React.createElement("div",{className:"tally-menu"},React.createElement("div",{className:"addTally",onClick:this._toggleTallyMenu},React.createElement("span",{className:e(this)})),React.createElement(AddTally,{showCreateTallyMenu:this.state.showCreateTallyMenu,_toggleTallyMenu:this._toggleTallyMenu,_handleNewTally:this.props._handleNewTally}),React.createElement("div",{className:"masterReset",onClick:this._toggleConfirmation},React.createElement("span",{className:"fa fa-refresh"})),React.createElement(ResetPrompt,{showConfirmation:this.state.showConfirmation,_toggleConfirmation:this._toggleConfirmation,_handleMasterReset:this.props._handleMasterReset}))}}),TallyList=React.createClass({displayName:"TallyList",render:function(){var e=this.props.data.map(function(e,a){return React.createElement(Tally,{key:a,id:a,name:e.name,initialCount:e.initialCount,count:e.count,minus:e.minus,plus:e.plus,_handleChange:this.props._handleChange})},this);return React.createElement("div",{className:"tally-list"},e)}}),TallyBox=React.createClass({displayName:"TallyBox",getInitialState:function(){return{data:[]}},componentDidMount:function(){this.setState({data:data})},_handleChange:function(e,a){data[e].count=a,this.setState({data:data})},_handleNewTally:function(e){data.push(e),this.setState({data:data})},_handleMasterReset:function(e){if(e)for(var a=0;a<data.length;a++)data[a].count=data[a].initialCount;this.setState({data:data})},render:function(){return React.createElement("div",{className:"tally-box"},React.createElement(TallyList,{data:data,_handleChange:this._handleChange}),React.createElement(TallyMenu,{_handleNewTally:this._handleNewTally,_handleMasterReset:this._handleMasterReset}))}});ReactDOM.render(React.createElement(TallyBox,{data:data}),document.getElementById("content"));